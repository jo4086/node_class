# Node.js에서 스레드와 이벤트 루프의 관게

### 1. Node.js는 싱글 스레드 동작

-  JavaScript코드는 메인 이벤트 루프 스레드에서 실행

-  백그라운드 스레드는 libuv(Node.js C++ 라이브러리)에 의해 제공
   -  실행 목록
   1. 파일 시스템 I/O
   2. 네트워크 작업
   3. 타이머 같은 비동기 작업

### 2. Microtask Queue, Timers Queue, Check Queue의 역할

이 대기열은 작업의 **[우선순위 and 실행 시점]** 을 결정하는 이벤트 구성 요소

1. **Microtask Queue**

   -  **우선 순위** : $\color{red}{1순위}$
   -  **작업 종류**
      -  process.nextTick()
      -  Promise의 .then(), .catch(), .finally()
   -  **특징**
      -  현재 실행 中 작업이 끝나기 전에 실행
      -  이벤트 루프의 다른 단계보다 가장 먼저 처리

2. **Timers Queue**
   -  우선 순위 : 2순위
   -  작업 종류
      -  setTimeout(callback, delay)
      -  setInterval(callback, interval)
   -  특징
      -  Microtask Queue가 빈 상태 $\color{magenta}{AND}$ 이벤트 루프가 Timers 단계에 도달할 때 실행
